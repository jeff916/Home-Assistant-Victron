  - name: "victron"
#
# Include in your configuration.yaml file:
# modbus: !include modbus.yamlcc
#
# Modbus device (slave) IDs: /!\ Only for my system
# BMV-705 245
# MPPT 247
# Multiplus 246
# Main System 100
#
    retry_on_empty: true
    retries: 10
    type: tcp
# Change host to your system
    host: 10.188.59.117
    port: 502

    sensors:
    # Main System (com.victronenergy.system) ID:100    
      - name: "Victron Battery voltage"
        slave: 100
        address: 840
        input_type: input
        data_type: uint16
        scale: 0.1
        precision: 1
        unit_of_measurement: V
        device_class: voltage
        scan_interval: 60

      - name: "Victron Battery State Value"
        slave: 100
        address: 844
        input_type: input
        data_type: uint16
        device_class: battery
        scan_interval: 60

      - name: "Victron Battery SOC"
        slave: 100
        address: 843
        input_type: input
        data_type: uint16
        unit_of_measurement: "%"
        device_class: battery
        state_class: measurement
        scan_interval: 60
        
      - name: "Victron Power Source Value"
        data_type: int16
        slave: 100
        address: 826
        scale: 1

      - name: "Victron AC Consumption"
        data_type: uint16
        unit_of_measurement: "W"
        slave: 100
        address: 817
        scale: 1
        device_class: power
        state_class: measurement

      - name: "Victron DC Consumption"
        data_type: int16
        unit_of_measurement: "W"
        slave: 100
        address: 860
        scale: 1
        device_class: power
        state_class: measurement

      - name: "Victron Shore Power"
        data_type: int16
        unit_of_measurement: "W"
        slave: 100
        address: 820
        scale: 1
        device_class: power
        state_class: measurement

      - name: "Victron Battery Power"
        data_type: int16
        unit_of_measurement: "W"
        slave: 100
        address: 842
        scale: 1
        device_class: power

      - name: "Victron PV Power"
        data_type: uint16
        unit_of_measurement: "W"
        slave: 100
        address: 850
        scale: 1
        device_class: power

    # BMV (com.victronenergy.battery) ID:245
      - name: "Victron Battery Time to go"
        data_type: uint16
        unit_of_measurement: "hours"
        slave: 245
        address: 303
        #Convert seconds to:
        # hours
        scale: 0.02777
        # minutes
        #scale: 0.016666
        scan_interval: 60

      - name: "Victron Time since last full charge"
        data_type: uint16
        unit_of_measurement: "hours"
        slave: 245
        address: 289
        scale: 0.02777
        scan_interval: 60

      - name: "Victron Battery Consumed Ah"
        data_type: uint16
        unit_of_measurement: "Ah"
        slave: 245
        address: 265
        scale: -0.1
        precision: 1

      - name: "Victron Battery Current"
        data_type: int16
        unit_of_measurement: "A"
        slave: 245
        address: 261
        scale: 0.1
        precision: 1
        device_class: current

    # MPPT Solar (com.victronenergy.solarcharger) ID:247
      - name: "Solar Voltage"
        data_type: uint16
        unit_of_measurement: "V"
        slave: 247
        address: 776
        scan_interval: 10
        scale: 0.01
        device_class: voltage

      - name: "Solar Current"
        data_type: int16
        unit_of_measurement: "A"
        slave: 247
        address: 777
        scan_interval: 10
        scale: 0.1
        device_class: current

      - name: "Solar Charger Error Code Value"
        data_type: int16
        slave: 247
        address: 788
        scan_interval: 10

      - name: "Solar Power"
        data_type: uint16
        unit_of_measurement: W
        slave: 247
        address: 789
        scan_interval: 10
        scale: 0.1
        device_class: power
        state_class: measurement

      - name: "Solar MPP Operation Mode Value"
        data_type: uint16
        slave: 247
        address: 791
        scan_interval: 10
        scale: 1

      - name: "Solar Yield today"
        data_type: uint16
        unit_of_measurement: "kWh"
        slave: 247
        address: 784
        scan_interval: 3600
        scale: 0.1
        precision: 3
        device_class: power

      - name: "Solar Max power today"
        data_type: uint16
        unit_of_measurement: "W"
        slave: 247
        address: 785
        scan_interval: 3600
        scale: 1
        device_class: power

      - name: "Solar Yield yesterday"
        data_type: uint16
        unit_of_measurement: "kWh"
        slave: 247
        address: 786
        scan_interval: 3600
        scale: 0.1
        precision: 3
        device_class: power

      - name: "Solar Max power yesterday"
        data_type: uint16
        unit_of_measurement: "W"
        slave: 247
        address: 787
        scan_interval: 3600
        scale: 1
        device_class: power

      - name: "Solar Charger State Value"
        data_type: uint16
        slave: 247
        address: 775
        scan_interval: 10
        scale: 1
        
      - name: "Solar Charger Mode Value"
        data_type: uint16
        slave: 247
        address: 774
        # scan_interval: 10

      #
      #  Multiplus (com.victronenergy.vebus) ID:246
      - name: "Multiplus Ac current limit"
        data_type: uint16
        scale: 0.1
        precision: 1
        slave: 246
        address: 22

      - name: "Multiplus VE.Bus state"
        data_type: uint16
        slave: 246
        address: 31

      - name: "Multiplus Switch Position"
        data_type: uint16
        slave: 246
        address: 33

      - name: "Multiplus Input current phase 1"
        data_type: uint16
        slave: 246
        address: 6

